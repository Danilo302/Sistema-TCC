{% extends 'base.html' %}

{% block title %}Cadastrar Pedido de TCC{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/aluno.css') }}">
<h2>Cadastrar Pedido de TCC</h2>
<form method="POST" action="{{ url_for('aluno.cadastrar_ficha_catalografica') }}">
    <div class="container">
        <h1>Ficha Catalográfica</h1>

            <h2>Autor(es)</h2>
            <label for="nomeAutor">Nome do Autor:</label>
            <input type="text" id="nomeAutor" name="nomeAutor" required>

            <label for="sobrenomeAutor">Sobrenome do Autor:</label>
            <input type="text" id="sobrenomeAutor" name="sobrenomeAutor" required>

            <label for="nomeCoautor">Nome do Coautor (opcional):</label>
            <input type="text" id="nomeCoautor" name="nomeCoautor">

            <label for="sobrenomeCoautor">Sobrenome do Coautor (opcional):</label>
            <input type="text" id="sobrenomeCoautor" name="sobrenomeCoautor">

            <h2>Trabalho</h2>
            <label for="titulo">Título da Obra:</label>
            <input type="text" id="titulo" name="titulo" required>

            <label for="subtitulo">Subtítulo da Obra (opcional):</label>
            <input type="text" id="subtitulo" name="subtitulo">

            <label for="curso">Curso:</label>
            <select id="curso" name="curso" required>
                <option value="Análise e Desenvolvimento de Sistemas">Análise e Desenvolvimento de Sistemas</option>
                <option value="Sistemas de Informação">Sistemas de Informação</option>
                <option value="Gestão Ambiental">Gestão Ambiental</option>
            </select>

            <label for="ano">Ano de Publicação:</label>
            <input type="number" id="ano" name="ano" required>

            <label for="instituicao">Instituição:</label>
            <input type="text" id="instituicao" name="instituicao" value="Faculdade de Educação Tecnológica do Estado do Rio de Janeiro" readonly>

            <label for="cidade">Cidade:</label>
            <input type="text" id="cidade" name="cidade" value="Paracambi" readonly>

            <label for="paginas">Número de Páginas: </label>
            <h3>As páginas começam a ser contadas a partir da folha de rosto</h3>
            <input type="number" id="paginas" name="paginas" required>
            <input type="hidden" name="paginas1" value="As páginas devem ser contadas a partir da folha de rosto.">

            <label for="ilustracaoCheckbox">Tem ilustração?</label>
            <input type="checkbox" id="ilustracaoCheckbox" onchange="toggleIlustracaoField()">
            <div id="ilustracaoField" style="display: none;">
                <label for="ilustracao">Quantidade de Ilustrações:</label>
                <input type="number" id="ilustracao" name="ilustracao" value = "0">
            </div>
        
            <label for="tabelaCheckbox">Tem tabela?</label>
            <input type="checkbox" id="tabelaCheckbox" onchange="toggleTabelaField()">
            <div id="tabelaField" style="display: none;">
                <label for="tabela">Quantidade de Tabelas:</label>
                <input type="number" id="tabela" name="tabela"  value = "0">
            </div>

            <label for="tamanho">Tamanho (cm):</label>
            <input type="number" id="tamanho" name="tamanho" value="30" readonly>

            <label for="bibliografia"> Bibliografia: </label>
            <h3>1 - Utilize o formato: 00-00</h3>
            <h3>2 - As páginas começam a ser contadas a partir da 1º folha de referências bibliográficas</h3>
            <input type="text" id="bibliografia"  name="bibliografia" required pattern="^\d{1,3}-\d{1,3}$" title="Formato: 11-11">

            <label for="keywords">Palavras-chave (separadas por vírgula):</label>
            <input type="text" id="keywords" name="keywords" list="keys" required>

            <datalist id="keys">
                <option value="">

            </datalist>

            
            <h3> Para preencher o campo abaixo, escolha o item da tabela CDD que mais se identifica com o resumo do seu TCC.</h3>
            
            <select id="cdd" name="cdd" required>
                {% for key, value in keywords.items() %}
                <option value= '{{ key }} '>{{value}} - {{key}}</option>
                {% endfor %}
            </select>
            <button type="submit">Enviar pedido</button>
    </form>
    <script src="{{ url_for('static', filename = 'js/script.js') }}"></script>
    {% endblock %}